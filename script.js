function getSginos() {
    if (window.XMLHttpRequest){
        xmlhttp = new XMLHttpRequest();
    } else {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    
    xmlhttp.open("GET", "signos.xml", false);
    xmlhttp.send();
    
    var result = xmlhttp.responseXML.getElementsByTagName("signo");
    return result;
}

const signos = getSginos();

const input = document.getElementById("nascimento");
const button = document.getElementById("btnConsultar");
const btnLimpar = document.getElementById("btnLimpar");
btnLimpar.onclick = function () {
    const logs = document.getElementById("logs");
    logs.innerHTML = "";
}
button.onclick = function() {
    const nasc = input.value;
    const arrNasc = nasc.split("-");
    return filterSignos(arrNasc[1],arrNasc[2]);
}
function filterSignos(mes,dia) {
    const objeto = {};
    const chaves = [
        ["22/12",["22/12","19/01"]],
        ["23/12",["22/12","19/01"]],
        ["24/12",["22/12","19/01"]],
        ["25/12",["22/12","19/01"]],
        ["26/12",["22/12","19/01"]],
        ["27/12",["22/12","19/01"]],
        ["28/12",["22/12","19/01"]],
        ["29/12",["22/12","19/01"]],
        ["30/12",["22/12","19/01"]],
        ["31/12",["22/12","19/01"]],
        ["01/01",["22/12","19/01"]],
        ["02/01",["22/12","19/01"]],
        ["03/01",["22/12","19/01"]],
        ["04/01",["22/12","19/01"]],
        ["05/01",["22/12","19/01"]],
        ["06/01",["22/12","19/01"]],
        ["07/01",["22/12","19/01"]],
        ["08/01",["22/12","19/01"]],
        ["09/01",["22/12","19/01"]],
        ["10/01",["22/12","19/01"]],
        ["11/01",["22/12","19/01"]],
        ["12/01",["22/12","19/01"]],
        ["13/01",["22/12","19/01"]],
        ["14/01",["22/12","19/01"]],
        ["15/01",["22/12","19/01"]],
        ["16/01",["22/12","19/01"]],
        ["17/01",["22/12","19/01"]],
        ["18/01",["22/12","19/01"]],
        ["19/01",["22/12","19/01"]],
        ["19/02",["19/02","20/03"]],
        ["20/02",["19/02","20/03"]],
        ["21/02",["19/02","20/03"]],
        ["22/02",["19/02","20/03"]],
        ["23/02",["19/02","20/03"]],
        ["24/02",["19/02","20/03"]],
        ["25/02",["19/02","20/03"]],
        ["26/02",["19/02","20/03"]],
        ["27/02",["19/02","20/03"]],
        ["28/02",["19/02","20/03"]],
        ["29/02",["19/02","20/03"]],
        ["30/02",["19/02","20/03"]],
        ["31/02",["19/02","20/03"]],
        ["01/03",["19/02","20/03"]],
        ["02/03",["19/02","20/03"]],
        ["03/03",["19/02","20/03"]],
        ["04/03",["19/02","20/03"]],
        ["05/03",["19/02","20/03"]],
        ["06/03",["19/02","20/03"]],
        ["07/03",["19/02","20/03"]],
        ["08/03",["19/02","20/03"]],
        ["09/03",["19/02","20/03"]],
        ["10/03",["19/02","20/03"]],
        ["11/03",["19/02","20/03"]],
        ["12/03",["19/02","20/03"]],
        ["13/03",["19/02","20/03"]],
        ["14/03",["19/02","20/03"]],
        ["15/03",["19/02","20/03"]],
        ["16/03",["19/02","20/03"]],
        ["17/03",["19/02","20/03"]],
        ["18/03",["19/02","20/03"]],
        ["19/03",["19/02","20/03"]],
        ["20/03",["19/02","20/03"]],
        ["21/03",["21/03","19/04"]],
        ["22/03",["21/03","19/04"]],
        ["23/03",["21/03","19/04"]],
        ["24/03",["21/03","19/04"]],
        ["25/03",["21/03","19/04"]],
        ["26/03",["21/03","19/04"]],
        ["27/03",["21/03","19/04"]],
        ["28/03",["21/03","19/04"]],
        ["29/03",["21/03","19/04"]],
        ["30/03",["21/03","19/04"]],
        ["31/03",["21/03","19/04"]],
        ["01/04",["21/03","19/04"]],
        ["02/04",["21/03","19/04"]],
        ["03/04",["21/03","19/04"]],
        ["04/04",["21/03","19/04"]],
        ["05/04",["21/03","19/04"]],
        ["06/04",["21/03","19/04"]],
        ["07/04",["21/03","19/04"]],
        ["08/04",["21/03","19/04"]],
        ["09/04",["21/03","19/04"]],
        ["10/04",["21/03","19/04"]],
        ["11/04",["21/03","19/04"]],
        ["12/04",["21/03","19/04"]],
        ["13/04",["21/03","19/04"]],
        ["14/04",["21/03","19/04"]],
        ["15/04",["21/03","19/04"]],
        ["16/04",["21/03","19/04"]],
        ["17/04",["21/03","19/04"]],
        ["18/04",["21/03","19/04"]],
        ["19/04",["21/03","19/04"]],
        ["20/04",["21/03","19/04"]],
        ["21/04",["21/04","20/05"]],
        ["22/04",["21/04","20/05"]],
        ["23/04",["21/04","20/05"]],
        ["24/04",["21/04","20/05"]],
        ["25/04",["21/04","20/05"]],
        ["26/04",["21/04","20/05"]],
        ["27/04",["21/04","20/05"]],
        ["28/04",["21/04","20/05"]],
        ["29/04",["21/04","20/05"]],
        ["30/04",["21/04","20/05"]],
        ["31/04",["21/04","20/05"]],
        ["01/05",["21/04","20/05"]],
        ["02/05",["21/04","20/05"]],
        ["03/05",["21/04","20/05"]],
        ["04/05",["21/04","20/05"]],
        ["05/05",["21/04","20/05"]],
        ["06/05",["21/04","20/05"]],
        ["07/05",["21/04","20/05"]],
        ["08/05",["21/04","20/05"]],
        ["09/05",["21/04","20/05"]],
        ["10/05",["21/04","20/05"]],
        ["11/05",["21/04","20/05"]],
        ["12/05",["21/04","20/05"]],
        ["13/05",["21/04","20/05"]],
        ["14/05",["21/04","20/05"]],
        ["15/05",["21/04","20/05"]],
        ["16/05",["21/04","20/05"]],
        ["17/05",["21/04","20/05"]],
        ["18/05",["21/04","20/05"]],
        ["19/05",["21/04","20/05"]],
        ["20/05",["21/04","20/05"]],
        ["21/05",["21/05","21/06"]],
        ["22/05",["21/05","21/06"]],
        ["23/05",["21/05","21/06"]],
        ["24/05",["21/05","21/06"]],
        ["25/05",["21/05","21/06"]],
        ["26/05",["21/05","21/06"]],
        ["27/05",["21/05","21/06"]],
        ["28/05",["21/05","21/06"]],
        ["29/05",["21/05","21/06"]],
        ["30/05",["21/05","21/06"]],
        ["31/05",["21/05","21/06"]],
        ["01/06",["21/05","21/06"]],
        ["02/06",["21/05","21/06"]],
        ["03/06",["21/05","21/06"]],
        ["04/06",["21/05","21/06"]],
        ["05/06",["21/05","21/06"]],
        ["06/06",["21/05","21/06"]],
        ["07/06",["21/05","21/06"]],
        ["08/06",["21/05","21/06"]],
        ["09/06",["21/05","21/06"]],
        ["10/06",["21/05","21/06"]],
        ["11/06",["21/05","21/06"]],
        ["12/06",["21/05","21/06"]],
        ["13/06",["21/05","21/06"]],
        ["14/06",["21/05","21/06"]],
        ["15/06",["21/05","21/06"]],
        ["16/06",["21/05","21/06"]],
        ["17/06",["21/05","21/06"]],
        ["18/06",["21/05","21/06"]],
        ["19/06",["21/05","21/06"]],
        ["20/06",["21/05","21/06"]],
        ["21/06",["21/05","21/06"]],
        ["22/06",["22/06","22/07"]],
        ["23/06",["22/06","22/07"]],
        ["24/06",["22/06","22/07"]],
        ["25/06",["22/06","22/07"]],
        ["26/06",["22/06","22/07"]],
        ["27/06",["22/06","22/07"]],
        ["28/06",["22/06","22/07"]],
        ["29/06",["22/06","22/07"]],
        ["30/06",["22/06","22/07"]],
        ["31/06",["22/06","22/07"]],
        ["01/07",["22/06","22/07"]],
        ["02/07",["22/06","22/07"]],
        ["03/07",["22/06","22/07"]],
        ["04/07",["22/06","22/07"]],
        ["05/07",["22/06","22/07"]],
        ["06/07",["22/06","22/07"]],
        ["07/07",["22/06","22/07"]],
        ["08/07",["22/06","22/07"]],
        ["09/07",["22/06","22/07"]],
        ["10/07",["22/06","22/07"]],
        ["11/07",["22/06","22/07"]],
        ["12/07",["22/06","22/07"]],
        ["13/07",["22/06","22/07"]],
        ["14/07",["22/06","22/07"]],
        ["15/07",["22/06","22/07"]],
        ["16/07",["22/06","22/07"]],
        ["17/07",["22/06","22/07"]],
        ["18/07",["22/06","22/07"]],
        ["19/07",["22/06","22/07"]],
        ["21/07",["22/06","22/07"]],
        ["22/07",["22/06","22/07"]],
        ["23/07",["23/07","22/08"]],
        ["24/07",["23/07","22/08"]],
        ["25/07",["23/07","22/08"]],
        ["26/07",["23/07","22/08"]],
        ["27/07",["23/07","22/08"]],
        ["28/07",["23/07","22/08"]],
        ["29/07",["23/07","22/08"]],
        ["30/07",["23/07","22/08"]],
        ["31/07",["23/07","22/08"]],
        ["01/08",["23/07","22/08"]],
        ["02/08",["23/07","22/08"]],
        ["03/08",["23/07","22/08"]],
        ["04/08",["23/07","22/08"]],
        ["05/08",["23/07","22/08"]],
        ["06/08",["23/07","22/08"]],
        ["07/08",["23/07","22/08"]],
        ["08/08",["23/07","22/08"]],
        ["09/08",["23/07","22/08"]],
        ["10/08",["23/07","22/08"]],
        ["11/08",["23/07","22/08"]],
        ["12/08",["23/07","22/08"]],
        ["13/08",["23/07","22/08"]],
        ["14/08",["23/07","22/08"]],
        ["15/08",["23/07","22/08"]],
        ["16/08",["23/07","22/08"]],
        ["17/08",["23/07","22/08"]],
        ["18/08",["23/07","22/08"]],
        ["19/08",["23/07","22/08"]],
        ["20/08",["23/07","22/08"]],
        ["21/08",["23/07","22/08"]],
        ["22/08",["23/07","22/08"]],
        ["23/09",["23/09","22/10"]],
        ["24/09",["23/09","22/10"]],
        ["25/09",["23/09","22/10"]],
        ["26/09",["23/09","22/10"]],
        ["27/09",["23/09","22/10"]],
        ["28/09",["23/09","22/10"]],
        ["29/09",["23/09","22/10"]],
        ["30/09",["23/09","22/10"]],
        ["31/09",["23/09","22/10"]],
        ["01/10",["23/09","22/10"]],
        ["02/10",["23/09","22/10"]],
        ["03/10",["23/09","22/10"]],
        ["04/10",["23/09","22/10"]],
        ["05/10",["23/09","22/10"]],
        ["06/10",["23/09","22/10"]],
        ["07/10",["23/09","22/10"]],
        ["08/10",["23/09","22/10"]],
        ["09/10",["23/09","22/10"]],
        ["10/10",["23/09","22/10"]],
        ["11/10",["23/09","22/10"]],
        ["12/10",["23/09","22/10"]],
        ["13/10",["23/09","22/10"]],
        ["14/10",["23/09","22/10"]],
        ["15/10",["23/09","22/10"]],
        ["16/10",["23/09","22/10"]],
        ["17/10",["23/09","22/10"]],
        ["18/10",["23/09","22/10"]],
        ["19/10",["23/09","22/10"]],
        ["20/10",["23/09","22/10"]],
        ["21/10",["23/09","22/10"]],
        ["22/10",["23/09","22/10"]],
        ["23/10",["23/10","21/11"]],
        ["24/10",["23/10","21/11"]],
        ["25/10",["23/10","21/11"]],
        ["26/10",["23/10","21/11"]],
        ["27/10",["23/10","21/11"]],
        ["28/10",["23/10","21/11"]],
        ["29/10",["23/10","21/11"]],
        ["30/10",["23/10","21/11"]],
        ["31/10",["23/10","21/11"]],
        ["01/11",["23/10","21/11"]],
        ["02/11",["23/10","21/11"]],
        ["03/11",["23/10","21/11"]],
        ["04/11",["23/10","21/11"]],
        ["05/11",["23/10","21/11"]],
        ["06/11",["23/10","21/11"]],
        ["07/11",["23/10","21/11"]],
        ["08/11",["23/10","21/11"]],
        ["09/11",["23/10","21/11"]],
        ["10/11",["23/10","21/11"]],
        ["11/11",["23/10","21/11"]],
        ["12/11",["23/10","21/11"]],
        ["13/11",["23/10","21/11"]],
        ["14/11",["23/10","21/11"]],
        ["15/11",["23/10","21/11"]],
        ["16/11",["23/10","21/11"]],
        ["17/11",["23/10","21/11"]],
        ["18/11",["23/10","21/11"]],
        ["19/11",["23/10","21/11"]],
        ["20/11",["23/10","21/11"]],
        ["21/11",["23/10","21/11"]],
        ["22/11",["22/11","21/12"]],
        ["23/11",["22/11","21/12"]],
        ["24/11",["22/11","21/12"]],
        ["25/11",["22/11","21/12"]],
        ["26/11",["22/11","21/12"]],
        ["27/11",["22/11","21/12"]],
        ["28/11",["22/11","21/12"]],
        ["29/11",["22/11","21/12"]],
        ["30/11",["22/11","21/12"]],
        ["31/11",["22/11","21/12"]],
        ["01/12",["22/11","21/12"]],
        ["02/12",["22/11","21/12"]],
        ["03/12",["22/11","21/12"]],
        ["04/12",["22/11","21/12"]],
        ["05/12",["22/11","21/12"]],
        ["06/12",["22/11","21/12"]],
        ["07/12",["22/11","21/12"]],
        ["08/12",["22/11","21/12"]],
        ["09/12",["22/11","21/12"]],
        ["10/12",["22/11","21/12"]],
        ["11/12",["22/11","21/12"]],
        ["12/12",["22/11","21/12"]],
        ["13/12",["22/11","21/12"]],
        ["14/12",["22/11","21/12"]],
        ["15/12",["22/11","21/12"]],
        ["16/12",["22/11","21/12"]],
        ["17/12",["22/11","21/12"]],
        ["18/12",["22/11","21/12"]],
        ["19/12",["22/11","21/12"]],
        ["20/12",["22/11","21/12"]],
        ["21/12",["22/11","21/12"]],
    ]
    for(var i =0; i< signos.length; i++) {
        const dataInicio = signos[i].getElementsByTagName("dataInicio")[0].textContent;
        const dataFim = signos[i].getElementsByTagName("dataFim")[0].textContent;
        const d = dia+"/"+mes;
        for(var j=0; j<chaves.length; j++) {
            if (d==chaves[j][0] && chaves[j][1][0]==dataInicio && chaves[j][1][1]==dataFim) { 
                objeto.title = signos[i].getElementsByTagName("signoNome")[0].textContent;
                objeto.descricao = signos[i].getElementsByTagName("descricao")[0].textContent;
                display(objeto);
            }
        }
    }
}
function display(objeto) {
    const logs = document.getElementById("logs");
    logs.innerHTML = "";
    const h1 = document.createElement("h1");
    h1.innerText = objeto.title;
    logs.append(h1);
    const p = document.createElement("p");
    p.innerText = objeto.descricao;
    logs.append(p);
}